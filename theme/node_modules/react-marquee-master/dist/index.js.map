{"version":3,"file":"index.js","sources":["../src/helpers/hookHelpers/useInterval.ts","../src/Marquee/index.tsx"],"sourcesContent":["import React from 'react';\r\n\r\nconst { useEffect, useRef } = React;\r\n\r\nexport default function useInterval(callback: () => any, delay: number) {\r\n  const savedCallback: { current: { callback: () => any } } = useRef({\r\n    callback: () => undefined,\r\n  });\r\n\r\n  // Remember the latest callback.\r\n  useEffect(() => {\r\n    savedCallback.current.callback = callback;\r\n  }, [callback]);\r\n\r\n  // Set up the interval.\r\n  useEffect(() => {\r\n    function tick() {\r\n      savedCallback.current.callback();\r\n    }\r\n    if (delay !== null) {\r\n      let id = setInterval(tick, delay);\r\n      return () => clearInterval(id);\r\n    }\r\n    return undefined;\r\n  }, [delay]);\r\n}\r\n","import * as React from 'react';\r\nimport userInterval from '../helpers/hookHelpers/useInterval';\r\n\r\nconst { useRef, useState } = React;\r\n\r\nexport interface IMarqueeProps {\r\n  delay?: number;\r\n  direction?: 'up' | 'right' | 'down' | 'left';\r\n  height?: number;\r\n  inverseMarqueeItems?: boolean;\r\n  marqueeClassName?: string;\r\n  marqueeContainerClassName?: string;\r\n  marqueeItemClassName?: string;\r\n  marqueeItems: Array<string | JSX.Element>;\r\n  minHeight?: number;\r\n}\r\n\r\nconst marqueeDefaults = {\r\n  delay: 40,\r\n  direction: 'up',\r\n  marqueeItems: [],\r\n  minHeight: 150,\r\n};\r\n\r\nconst initState = (props: IMarqueeProps) => {\r\n  const marqueeItems = props.marqueeItems || marqueeDefaults.marqueeItems;\r\n  return {\r\n    bottom: 0,\r\n    left: 0,\r\n    marqueeItems: props.inverseMarqueeItems ? marqueeItems.reverse() : marqueeItems,\r\n    right: 0,\r\n    top: 0,\r\n  };\r\n};\r\n\r\nexport default function Marquee(props: IMarqueeProps) {\r\n  const marqueeContainerRef = useRef<HTMLDivElement>(null);\r\n  const marqueeRef = useRef<HTMLDivElement>(null);\r\n\r\n  const [state, setState] = useState(initState(props));\r\n  const { bottom, marqueeItems, top, left, right } = state;\r\n\r\n  const {\r\n    height,\r\n    marqueeClassName,\r\n    marqueeContainerClassName,\r\n    marqueeItemClassName,\r\n    minHeight,\r\n  } = props;\r\n\r\n  const delay = props.delay || marqueeDefaults.delay;\r\n  const direction = props.direction || marqueeDefaults.direction;\r\n  const isHorizontal = direction === 'left' || direction === 'right';\r\n\r\n  const marqueeContainerStyle: React.CSSProperties = {};\r\n  if (height) {\r\n    marqueeContainerStyle.height = `${height}px`;\r\n  } else if (minHeight) {\r\n    marqueeContainerStyle.minHeight = `${minHeight}px`;\r\n  } else {\r\n    marqueeContainerStyle.minHeight = `${marqueeDefaults.minHeight}px`;\r\n  }\r\n\r\n  const marqueeStyle: React.CSSProperties = {};\r\n  if (direction === 'up') {\r\n    marqueeStyle.top = `${top}px`;\r\n  } else if (direction === 'right') {\r\n    marqueeStyle.right = `${right}px`;\r\n  } else if (direction === 'down') {\r\n    marqueeStyle.bottom = `${bottom}px`;\r\n  } else if (direction === 'left') {\r\n    marqueeStyle.left = `${left}px`;\r\n  }\r\n\r\n  const getFirstMarqueeItemSize = () => {\r\n    const childNode = marqueeRef.current?.firstChild;\r\n    if (childNode instanceof HTMLDivElement) {\r\n      if (isHorizontal) {\r\n        return childNode.offsetWidth;\r\n      }\r\n      return childNode.offsetHeight;\r\n    }\r\n    return 0;\r\n  };\r\n\r\n  const getLastMarqueeItemSize = () => {\r\n    const childNode = marqueeRef.current?.lastChild;\r\n    if (childNode instanceof HTMLDivElement) {\r\n      if (isHorizontal) {\r\n        return childNode.offsetWidth;\r\n      }\r\n      return childNode.offsetHeight;\r\n    }\r\n    return 0;\r\n  };\r\n\r\n  userInterval(() => {\r\n    const nextMarqueeItems = [...marqueeItems];\r\n    let nextProp: 'top' | 'right' | 'bottom' | 'left';\r\n    switch (direction) {\r\n      case 'up':\r\n        nextProp = 'top';\r\n        break;\r\n      case 'right':\r\n        nextProp = 'right';\r\n        break;\r\n      case 'down':\r\n        nextProp = 'bottom';\r\n        break;\r\n      case 'left':\r\n        nextProp = 'left';\r\n        break;\r\n\r\n      default:\r\n        nextProp = 'top';\r\n        break;\r\n    }\r\n\r\n    let nextPropValue = state[nextProp];\r\n\r\n    // Next tic value\r\n    nextPropValue -= 1;\r\n    const marqueeItemSize =\r\n      direction === 'up' || direction === 'left'\r\n        ? getFirstMarqueeItemSize()\r\n        : getLastMarqueeItemSize();\r\n\r\n    const marqueeItemPassed =\r\n      (marqueeItemSize ? Math.floor(Math.abs(nextPropValue) / marqueeItemSize) : 0) > 0;\r\n\r\n    if (marqueeItemPassed) {\r\n      if (direction === 'up' || direction === 'left') {\r\n        nextMarqueeItems.push(nextMarqueeItems.shift() as string);\r\n      } else {\r\n        nextMarqueeItems.unshift(nextMarqueeItems.pop() as string);\r\n      }\r\n      nextPropValue = nextPropValue + marqueeItemSize;\r\n    }\r\n\r\n    setState((s) => ({\r\n      ...s,\r\n      [nextProp]: nextPropValue,\r\n      marqueeItems: nextMarqueeItems,\r\n    }));\r\n  }, delay);\r\n\r\n  const marqueeItemElms = marqueeItems.map((marqueeItem, i) => {\r\n    return (\r\n      <div\r\n        className={`marquee-item${marqueeItemClassName ? ` ${marqueeItemClassName}` : ''}`}\r\n        key={i}\r\n      >\r\n        {marqueeItem}\r\n      </div>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div\r\n      className={`marquee-container${isHorizontal ? ' horizontal' : ''}${\r\n        marqueeContainerClassName ? ` ${marqueeContainerClassName}` : ''\r\n      }`}\r\n      ref={marqueeContainerRef}\r\n      style={marqueeContainerStyle}\r\n    >\r\n      <div\r\n        className={`marquee${marqueeClassName ? ` ${marqueeClassName}` : ''}`}\r\n        ref={marqueeRef}\r\n        style={marqueeStyle}\r\n      >\r\n        {marqueeItemElms}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["useEffect","React","useRef","useInterval","callback","delay","savedCallback","undefined","current","tick","id","setInterval","clearInterval","useState","marqueeDefaults","direction","marqueeItems","minHeight","initState","props","bottom","left","inverseMarqueeItems","reverse","right","top","Marquee","marqueeContainerRef","marqueeRef","state","setState","height","marqueeClassName","marqueeContainerClassName","marqueeItemClassName","isHorizontal","marqueeContainerStyle","marqueeStyle","getFirstMarqueeItemSize","childNode","firstChild","HTMLDivElement","offsetWidth","offsetHeight","getLastMarqueeItemSize","lastChild","userInterval","nextMarqueeItems","nextProp","nextPropValue","marqueeItemSize","marqueeItemPassed","Math","floor","abs","push","shift","unshift","pop","s","marqueeItemElms","map","marqueeItem","i","React.createElement"],"mappings":"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"}